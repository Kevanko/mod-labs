# Анализ графов (лаба 3)

--- Формула 1: P = exp(-a·d²), a = 0.01 ---
Параметры: a = 0.01.
Рёбер: 99, вершин: 100. Средняя длина ребра: 13.8.
Средняя степень: 1.98, макс. степень: 8.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 1: P = exp(-a·d²), a = 0.03 ---
Параметры: a = 0.03.
Рёбер: 99, вершин: 100. Средняя длина ребра: 17.4.
Средняя степень: 1.98, макс. степень: 8.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 1: P = exp(-a·d²), a = 0.06 ---
Параметры: a = 0.06.
Рёбер: 99, вершин: 100. Средняя длина ребра: 16.4.
Средняя степень: 1.98, макс. степень: 5.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 1: P = exp(-a·d²), a = 0.1 ---
Параметры: a = 0.1.
Рёбер: 99, вершин: 100. Средняя длина ребра: 14.5.
Средняя степень: 1.98, макс. степень: 8.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 1: P = exp(-a·d²), a = 0.15 ---
Параметры: a = 0.15.
Рёбер: 99, вершин: 100. Средняя длина ребра: 16.1.
Средняя степень: 1.98, макс. степень: 9.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 1: P = exp(-a·d²), a = 0.25 ---
Параметры: a = 0.25.
Рёбер: 95, вершин: 100. Средняя длина ребра: 12.2.
Средняя степень: 1.90, макс. степень: 5.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 1: P = exp(-a·d²), a = 0.4 ---
Параметры: a = 0.4.
Рёбер: 98, вершин: 100. Средняя длина ребра: 11.3.
Средняя степень: 1.96, макс. степень: 5.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 2: P = 1/d^b, b = 0.3 ---
Параметры: b = 0.3.
Рёбер: 99, вершин: 100. Средняя длина ребра: 55.6.
Средняя степень: 1.98, макс. степень: 7.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 2: P = 1/d^b, b = 0.6 ---
Параметры: b = 0.6.
Рёбер: 99, вершин: 100. Средняя длина ребра: 44.4.
Средняя степень: 1.98, макс. степень: 8.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 2: P = 1/d^b, b = 0.9 ---
Параметры: b = 0.9.
Рёбер: 99, вершин: 100. Средняя длина ребра: 40.5.
Средняя степень: 1.98, макс. степень: 7.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 2: P = 1/d^b, b = 1.2 ---
Параметры: b = 1.2.
Рёбер: 99, вершин: 100. Средняя длина ребра: 33.9.
Средняя степень: 1.98, макс. степень: 7.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 2: P = 1/d^b, b = 1.6 ---
Параметры: b = 1.6.
Рёбер: 99, вершин: 100. Средняя длина ребра: 27.4.
Средняя степень: 1.98, макс. степень: 9.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: граф с выраженным «хабом» — одна или несколько вершин с большой степенью; напоминает звёздную топологию или иерархическую сеть (например, центр + периферия в транспортной или организационной сети).
С чем сравнить: дерево «звезда», предпочтительное присоединение (Barabási–Albert) без петель; или граф «центр–периферия».

--- Формула 2: P = 1/d^b, b = 2.0 ---
Параметры: b = 2.0.
Рёбер: 99, вершин: 100. Средняя длина ребра: 26.5.
Средняя степень: 1.98, макс. степень: 6.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).

--- Формула 2: P = 1/d^b, b = 2.5 ---
Параметры: b = 2.5.
Рёбер: 99, вершин: 100. Средняя длина ребра: 21.8.
Средняя степень: 1.98, макс. степень: 6.
Распределение степеней (кратко): большинство степеней в диапазоне 1–5.
На что похоже: промежуточный вариант — смесь локальных и более длинных связей; может напоминать транспортную или коммуникационную сеть с несколькими узлами пересадок.
С чем сравнить: случайное дерево на тех же точках; дерево k ближайших соседей (k-NN); граф с вероятностью связи, зависящей от расстояния (как в данной модели).


## Сравнение графов (разница по параметрам)

| Конфигурация | Средняя длина ребра | Макс. степень |
|--------------|---------------------|---------------|
| exp a=0.01 | 13.8 | 8 |
| exp a=0.03 | 17.4 | 8 |
| exp a=0.06 | 16.4 | 5 |
| exp a=0.1 | 14.5 | 8 |
| exp a=0.15 | 16.1 | 9 |
| exp a=0.25 | 12.2 | 5 |
| exp a=0.4 | 11.3 | 5 |
| 1/d^b b=0.3 | 55.6 | 7 |
| 1/d^b b=0.6 | 44.4 | 8 |
| 1/d^b b=0.9 | 40.5 | 7 |
| 1/d^b b=1.2 | 33.9 | 7 |
| 1/d^b b=1.6 | 27.4 | 9 |
| 1/d^b b=2.0 | 26.5 | 6 |
| 1/d^b b=2.5 | 21.8 | 6 |

Чем меньше параметр a (или b), тем выше вероятность длинных рёбер — средняя длина ребра больше. Чем больше a (или b), тем сильнее предпочтение коротких рёбер — граф «локальнее», средняя длина меньше. Рёбер во всех графах 99 (дерево на 100 вершинах); циклы отсутствуют.

## Выводы

Зависимость от параметра: при увеличении a (exp) или b (1/d^b) средняя длина ребра падает, граф становится более локальным. При малых параметрах чаще появляются «хабы» (вершины с большой степенью). Две формулы дают качественно сходное поведение с разной чувствительностью к расстоянию.
## Выводы по серии

По серии сгенерированных графов (по группе на каждую комбинацию формула–параметр):

| Формула | Параметр | Средняя длина ребра (mean ± std) | Макс. степень (mean ± std) |
|---------|----------|-----------------------------------|----------------------------|
| exp | 0.01 | 13.8 ± 0.0 | 8.0 ± 0.0 |
| exp | 0.03 | 17.4 ± 0.0 | 8.0 ± 0.0 |
| exp | 0.06 | 16.4 ± 0.0 | 5.0 ± 0.0 |
| exp | 0.1 | 14.5 ± 0.0 | 8.0 ± 0.0 |
| exp | 0.15 | 16.1 ± 0.0 | 9.0 ± 0.0 |
| exp | 0.25 | 12.2 ± 0.0 | 5.0 ± 0.0 |
| exp | 0.4 | 11.3 ± 0.0 | 5.0 ± 0.0 |
| pow | 0.3 | 55.6 ± 0.0 | 7.0 ± 0.0 |
| pow | 0.6 | 44.4 ± 0.0 | 8.0 ± 0.0 |
| pow | 0.9 | 40.5 ± 0.0 | 7.0 ± 0.0 |
| pow | 1.2 | 33.9 ± 0.0 | 7.0 ± 0.0 |
| pow | 1.6 | 27.4 ± 0.0 | 9.0 ± 0.0 |
| pow | 2.0 | 26.5 ± 0.0 | 6.0 ± 0.0 |
| pow | 2.5 | 21.8 ± 0.0 | 6.0 ± 0.0 |

**Закономерности:** с ростом параметра a (или b) средняя длина ребра уменьшается — граф становится «локальнее». Максимальная степень может расти при малых a/b (появление хабов при более равномерном выборе длинных рёбер).

**На что похоже:** при малых a и b преобладают длинные рёбра и выраженные хабы — графы напоминают центр–периферию, транспортную или организационную сеть с узлами пересадок. При больших a и b рёбра в основном короткие, структура локальная — ближе к сенсорной сети, графу ближайших соседей или минимальному остовному дереву с пространственным предпочтением.

Графики сохранены: `images/batch_avg_edge_len.png`, `images/batch_max_degree.png`.

## 8 выбранных графов

Для наглядности закономерности сохранены 8 графов в каталог `images/interesting/`:
- **Формула 1 (exp):** a = 0.01 (длинные рёбра, хабы), 0.06, 0.15, 0.4 (короткие, локальная структура).
- **Формула 2 (1/d^b):** b = 0.3 (длинные рёбра), 0.9, 1.6, 2.5 (короткие).
По ним видно, как с ростом параметра граф переходит от «звезды/центра–периферии» к локальной сети.

---

## Творческая часть: восемь графов и реальный мир

Мы меняли параметры моделей и получали разные графы. Ниже — восемь наглядных примеров и коротко простыми словами: что на картинке и на что это похоже в жизни.

### Граф 1. Формула exp, малый a — длинные рёбра и «звезда»

![Граф 1: exp, a=0.01](images/interesting/1_exp_0.01.png)

На картинке много длинных линий, и одна или несколько точек, от которых эти линии расходятся в разные стороны — как звезда. В жизни так бывает, когда все связи идут через одно место: одна главная станция метро, один центр в компании или один хаб в авиасети. Параметр a маленький — модель «разрешает» далёкие связи, поэтому и получается такая централизованная картина.

### Граф 2. Формула exp, переход — несколько узлов

![Граф 2: exp, a=0.06](images/interesting/2_exp_0.06.png)

Здесь уже не одна звезда, а несколько заметных узлов, к которым сходятся рёбра. Длинные связи ещё есть, но появляются и короткие. Похоже на транспортную сеть с несколькими пересадочными станциями или на организацию с несколькими филиалами. Параметр a средний — модель даёт и далёкие, и ближние связи.

### Граф 3. Формула exp, переход — смесь длинных и коротких

![Граф 3: exp, a=0.15](images/interesting/3_exp_0.15.png)

Картина промежуточная: есть и хабы, и локальные «гнёзда» из коротких рёбер. Напоминает коммуникационную или логистическую сеть, где часть потоков идёт через крупные узлы, а часть — напрямую между соседними точками. Так часто устроены реальные сети, когда нет ни чистой «звезды», ни чисто локальной структуры.

### Граф 4. Формула exp, большой a — всё рядом

![Граф 4: exp, a=0.4](images/interesting/4_exp_0.4.png)

Рёбра в основном короткие, точки соединяются с ближайшими соседями. Выраженных звёзд почти нет. В жизни так бывает у сенсорной сети на местности, у связей между соседними домами или у графа «кто с кем рядом» в одном районе. Большой параметр a заставляет модель предпочитать только близкие связи.

### Граф 5. Формула 1/d^b, малый b — длинные рёбра

![Граф 5: pow, b=0.3](images/interesting/5_pow_0.3.png)

Вторая формула (степенная), но при малом b картина похожа на граф 1: снова длинные рёбра и явные хабы. Модель снова «разрешает» далёкие связи. В жизни — те же аналоги: один центр, через который всё идёт, будь то транспорт, организация или инфраструктура.

### Граф 6. Формула 1/d^b, переход

![Граф 6: pow, b=0.9](images/interesting/6_pow_0.9.png)

Несколько узлов, смесь длинных и коротких рёбер. Как и в графе 2–3, это переходный режим: сеть с пересадками или несколько филиалов. Параметр b уже ощутимо давит на расстояние — далёкие связи становятся менее вероятными.

### Граф 7. Формула 1/d^b, переход к локальности

![Граф 7: pow, b=1.6](images/interesting/7_pow_1.6.png)

Ещё ближе к «локальной» картинке: коротких рёбер больше, хабы могут быть, но не такие выраженные. Напоминает сеть, где часть связей централизована, а часть замыкается на ближайших соседях — типичная смешанная структура.

### Граф 8. Формула 1/d^b, большой b — только соседи

![Граф 8: pow, b=2.5](images/interesting/8_pow_2.5.png)

Почти все рёбра короткие, связи в основном между соседними точками. Похоже на сенсорную сеть, граф соседей по району или минимальное дерево с сильным предпочтением «близкого». Большой b сильно привязывает связи к расстоянию — далёкие пары почти не соединяются.

---

**Итог.** Чем больше параметр (a или b), тем «локальнее» граф: меньше длинных рёбер, больше связей только с ближайшими. При малых параметрах получаются централизованные сети с хабами (звезда, центр–периферия). Так одну и ту же модель можно настроить под разные типы реальных сетей — от метро с одним узлом до локальных сенсоров.
